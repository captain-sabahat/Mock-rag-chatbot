# Environment Variables Template
# Copy this file to .env and fill in your actual values
# DO NOT commit .env file to git!

# ============================================================================
# APPLICATION SETTINGS
# ============================================================================

ENVIRONMENT=development
DEBUG=True
LOG_LEVEL=INFO

APP_NAME=user-rag-pipeline
APP_VERSION=1.0.0
APP_TITLE=RAG Chatbot API

# ============================================================================
# SERVER CONFIGURATION
# ============================================================================

BACKEND_HOST=127.0.0.1
BACKEND_PORT=8001
BACKEND_RELOAD=True

FRONTEND_HOST=127.0.0.1
FRONTEND_PORT=8502
FRONTEND_URL=http://127.0.0.1:8502

API_BASE_URL=http://localhost:8001
API_TIMEOUT=30
MAX_FILE_SIZE_MB=200

#Providers

VECTORDB_PROVIDER=faiss


# ============================================================================
# GEMINI LLM CONFIGURATION
# ============================================================================
# Get free API key from: https://ai.google.dev

GEMINI_API_KEY=
GEMINI_MODEL=gemini-2.0-flash
GEMINI_TEMPERATURE=0.7
GEMINI_MAX_TOKENS=1024
GEMINI_TOP_P=0.9
GEMINI_TOP_K=40

# Rate limits for free tier
GEMINI_RATE_LIMIT_RPM=60
GEMINI_RATE_LIMIT_QPM=100

# ============================================================================
# EMBEDDINGS CONFIGURATION
# ============================================================================
# Model: BAAI/bge-small-en-v1.5 (best-in-class for semantic search)

HF_TOKEN = 
EMBEDDINGS_MODEL=BAAI/bge-small-en-v1.5
EMBEDDINGS_DEVICE=cpu
EMBEDDINGS_BATCH_SIZE=32
EMBEDDINGS_NORMALIZE=True
EMBEDDINGS_CACHE_DIR=./cache/embeddings
EMBEDDINGS_DIMENSION=384

# ============================================================================
# SLM CONFIGURATION
# ============================================================================
# Local Small Language Model: Phi-3 Mini (3.8B parameters)

SLM_MODEL=microsoft/phi-3-mini-4k-instruct
SLM_DEVICE=cpu
SLM_MAX_TOKENS=512
SLM_TEMPERATURE=0.5
SLM_USE_CACHE=True

ENABLE_SLM=True
SLM_FOR_SUMMARIZATION=True

# ============================================================================
# VECTOR DATABASE (QDRANT)
# ============================================================================

QDRANT_HOST=localhost
QDRANT_PORT=6333
QDRANT_URL=http://localhost:6333
QDRANT_API_KEY=

QDRANT_COLLECTION_NAME=documents
QDRANT_VECTOR_SIZE=384
QDRANT_DISTANCE_METRIC=Cosine

# ============================================================================
# REDIS CONFIGURATION
# ============================================================================

REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
REDIS_CACHE_TTL=3600

ENABLE_REDIS_CACHE=True
CACHE_EMBEDDINGS=True

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================

DATABASE_URL=sqlite:///./data/pipeline.db
DATABASE_ECHO=False

UPLOAD_DIR=./uploads
DATA_DIR=./data

# ============================================================================
# AUTHENTICATION & SECURITY
# ============================================================================

JWT_SECRET_KEY=
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

CORS_ORIGINS=["http://localhost:8501", "http://127.0.0.1:8501"]
CORS_ALLOW_CREDENTIALS=True
CORS_ALLOW_METHODS=["GET", "POST", "PUT", "DELETE", "OPTIONS"]
CORS_ALLOW_HEADERS=["*"]

# ============================================================================
# DOCUMENT PROCESSING
# ============================================================================

SUPPORTED_FORMATS=pdf,png,jpg,jpeg,txt
MAX_FILE_SIZE_BYTES=209715200

ENABLE_OCR=False
DETECT_LANGUAGE=True
REMOVE_DUPLICATES=True

CHUNK_SIZE=512
CHUNK_OVERLAP=50
CHUNKING_STRATEGY=sliding_window

# ============================================================================
# CIRCUIT BREAKER SETTINGS
# ============================================================================

ENABLE_CIRCUIT_BREAKER=True
CB_FAILURE_THRESHOLD=5
CB_TIMEOUT_SECONDS=30
CB_RESET_TIMEOUT_SECONDS=60

# ============================================================================
# RATE LIMITING
# ============================================================================

ENABLE_RATE_LIMITING=False
RATE_LIMIT_RPM=60
RATE_LIMIT_BURST=10

# ============================================================================
# LOGGING & MONITORING
# ============================================================================

LOG_FILE=./logs/app.log
LOG_FORMAT=json
LOG_LEVEL=INFO

ENABLE_STRUCTURED_LOGGING=True
ENABLE_AUDIT_LOG=True

# ============================================================================
# FEATURE FLAGS
# ============================================================================

ENABLE_STREAMING=True
ENABLE_ASYNC_PROCESSING=True
ENABLE_BATCH_PROCESSING=False

# ============================================================================
# DEVELOPMENT SETTINGS
# ============================================================================

DEVELOPMENT_MODE=True
RELOAD_ON_CHANGE=True

USE_MOCK_GEMINI=False
USE_MOCK_EMBEDDINGS=False

# ============================================================================
# PERFORMANCE TUNING
# ============================================================================

MAX_WORKERS=4
WORKER_THREADS=2

API_CALL_TIMEOUT=30
EMBEDDING_TIMEOUT=60
LLM_CALL_TIMEOUT=120
